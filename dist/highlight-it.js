window.__verboseMode=!1;function T(s){window.__verboseMode=s}function l(...s){if(window.__verboseMode)console.log("[highlight-it LOG]: ",...s)}function n(...s){if(window.__verboseMode)console.warn("[highlight-it WARN]: ",...s)}function b(...s){console.error("[highlight-it ERROR]: ",...s)}function z(s){let{tagName:t,src:i}=s,m,a,h=new Promise((v,k)=>{[m,a]=[v,k]}),d;if(t==="link")d=document.createElement("link"),d.rel="stylesheet",d.href=i;else d=document.createElement("script"),d.defer=!0,d.src=i;return d.onload=()=>{m()},d.onerror=()=>{a(Error(`Failed to load ${t}: ${i}`))},document.body.appendChild(d),h}function F(){let s=document.currentScript;if(!s||s.nodeName!=="SCRIPT"){let i=document.getElementsByTagName("script");for(let m=i.length-1;m>=0;m--){let a=i[m];if(a.src&&(a.src.includes("highlight-it-")||a.src.includes("highlight-it@")||a.src.endsWith("highlight-it.js"))){s=a;break}}}let t={engine:"prism",theme:"prism",darkMode:"",verbose:!1};if(s?.src)try{let i=new URL(s.src),m=i.searchParams.get("engine");if(m==="highlight"||m==="highlightjs")t.engine="highlight";else if(m==="shiki")t.engine="shiki";else if(m==="prism")t.engine="prism";t.theme=i.searchParams.get("theme")||i.searchParams.get("config")||"prism",t.darkMode=i.searchParams.get("dark-theme")||i.searchParams.get("dark-mode")||i.searchParams.get("darkmode")||i.searchParams.get("darkMode");let a=i.searchParams.get("verbose");if(a)t.verbose=["true","1","yes","on"].includes(a.toLowerCase())}catch(i){return n("Failed to parse script URL:",i),t}return t}function o(s){return Boolean(s)}class y{static loadedResources=new Set;async loadResource(s){if(y.isResourceLoaded(s))return;if(s.dependencies&&s.dependencies.length>0)await Promise.all(s.dependencies.map((t)=>this.loadResource(t)));o(s.script)&&await z({tagName:"script",src:s.script}),o(s.link)&&await z({tagName:"link",src:s.link}),y.addResourceLoaded(s)}static isResourceLoaded(s){return o(s.script)&&y.loadedResources.has(s.script)||o(s.link)&&y.loadedResources.has(s.link)}static addResourceLoaded(s){o(s.script)&&y.loadedResources.add(s.script),o(s.link)&&y.loadedResources.add(s.link)}waitUntil(s,t=15000){return new Promise((i,m)=>{if(s()){i();return}try{let a=Date.now(),h=setInterval(()=>{if(s())clearInterval(h),i();else if(Date.now()-a>t)clearInterval(h),m(Error("Highlighting engine failed to load within expected time."))},50)}catch(a){m(a)}})}}var H={builtIn:{urlPrefix:"https://unpkg.com/@highlightjs/cdn-assets@11.11.1",themes:{"1c-light":"/styles/1c-light.min.css","a11y-dark":"/styles/a11y-dark.min.css","a11y-light":"/styles/a11y-light.min.css",agate:"/styles/agate.min.css","an-old-hope":"/styles/an-old-hope.min.css",androidstudio:"/styles/androidstudio.min.css","arduino-light":"/styles/arduino-light.min.css",arta:"/styles/arta.min.css",ascetic:"/styles/ascetic.min.css","atom-one-dark-reasonable":"/styles/atom-one-dark-reasonable.min.css","atom-one-dark":"/styles/atom-one-dark.min.css","atom-one-light":"/styles/atom-one-light.min.css","brown-paper":"/styles/brown-paper.min.css","codepen-embed":"/styles/codepen-embed.min.css","color-brewer":"/styles/color-brewer.min.css","cybertopia-cherry":"/styles/cybertopia-cherry.min.css","cybertopia-dimmer":"/styles/cybertopia-dimmer.min.css","cybertopia-icecap":"/styles/cybertopia-icecap.min.css","cybertopia-saturated":"/styles/cybertopia-saturated.min.css",dark:"/styles/dark.min.css",default:"/styles/default.min.css",devibeans:"/styles/devibeans.min.css",docco:"/styles/docco.min.css",dracula:"/styles/dracula.min.css",far:"/styles/far.min.css",felipec:"/styles/felipec.min.css",foundation:"/styles/foundation.min.css","github-dark-dimmed":"/styles/github-dark-dimmed.min.css","github-dark":"/styles/github-dark.min.css",github:"/styles/github.min.css",gml:"/styles/gml.min.css",googlecode:"/styles/googlecode.min.css","gradient-dark":"/styles/gradient-dark.min.css","gradient-light":"/styles/gradient-light.min.css",grayscale:"/styles/grayscale.min.css",hybrid:"/styles/hybrid.min.css",idea:"/styles/idea.min.css","intellij-light":"/styles/intellij-light.min.css","ir-black":"/styles/ir-black.min.css","isbl-editor-dark":"/styles/isbl-editor-dark.min.css","isbl-editor-light":"/styles/isbl-editor-light.min.css","kimbie-dark":"/styles/kimbie-dark.min.css","kimbie-light":"/styles/kimbie-light.min.css",lightfair:"/styles/lightfair.min.css",lioshi:"/styles/lioshi.min.css",magula:"/styles/magula.min.css","mono-blue":"/styles/mono-blue.min.css","monokai-sublime":"/styles/monokai-sublime.min.css",monokai:"/styles/monokai.min.css","night-owl":"/styles/night-owl.min.css","nnfx-dark":"/styles/nnfx-dark.min.css","nnfx-light":"/styles/nnfx-light.min.css",nord:"/styles/nord.min.css",obsidian:"/styles/obsidian.min.css","panda-syntax-dark":"/styles/panda-syntax-dark.min.css","panda-syntax-light":"/styles/panda-syntax-light.min.css","paraiso-dark":"/styles/paraiso-dark.min.css","paraiso-light":"/styles/paraiso-light.min.css",pojoaque:"/styles/pojoaque.min.css",purebasic:"/styles/purebasic.min.css","qtcreator-dark":"/styles/qtcreator-dark.min.css","qtcreator-light":"/styles/qtcreator-light.min.css",rainbow:"/styles/rainbow.min.css","rose-pine-dawn":"/styles/rose-pine-dawn.min.css","rose-pine-moon":"/styles/rose-pine-moon.min.css","rose-pine":"/styles/rose-pine.min.css",routeros:"/styles/routeros.min.css","school-book":"/styles/school-book.min.css","shades-of-purple":"/styles/shades-of-purple.min.css",srcery:"/styles/srcery.min.css","stackoverflow-dark":"/styles/stackoverflow-dark.min.css","stackoverflow-light":"/styles/stackoverflow-light.min.css",sunburst:"/styles/sunburst.min.css","tokyo-night-dark":"/styles/tokyo-night-dark.min.css","tokyo-night-light":"/styles/tokyo-night-light.min.css","tomorrow-night-blue":"/styles/tomorrow-night-blue.min.css","tomorrow-night-bright":"/styles/tomorrow-night-bright.min.css",vs:"/styles/vs.min.css",vs2015:"/styles/vs2015.min.css",xcode:"/styles/xcode.min.css",xt256:"/styles/xt256.min.css"}}};var p=H,X=[...Object.keys(p.builtIn.themes),...p.external?Object.keys(p.external.themes):[]];class w extends y{resources=[];constructor(s){super();let{theme:t,darkMode:i}=s;l("Loaded config:",p),this.setTheme(t,i||"")}async initialize(){let s=async(t)=>{await this.loadResource(t)};try{await s({script:`${p.builtIn.urlPrefix}/highlight.min.js`}),l("Core script loaded."),await Promise.all(this.resources.map(s)),l("[Highlight Engine] All resources loaded.",this.resources)}catch(t){b("Error during initialization:",t),l("Resources attempted to load:",this.resources)}}setTheme(s,t){let i=(a)=>{this.resources.push({link:`${p.builtIn.urlPrefix}${a}`})};if(Boolean(t)&&window.matchMedia?.("(prefers-color-scheme: dark)").matches&&p.builtIn.themes[t]){i(p.builtIn.themes[t]),l(`[Highlight Engine] Dark mode theme "${t}" applied based on system preference.`);return}if(p.builtIn.themes[s]){i(p.builtIn.themes[s]),l(`[Highlight Engine] Theme "${s}" applied.`);return}i(p.builtIn.themes.default),n(`[Highlight Engine] Theme "${s}" is not supported, defaulting to "default".`)}async highlight(){await this.waitUntil(()=>Boolean(window.hljs)),window.hljs?.highlightAll?.()}}var K={builtIn:{urlPrefix:"https://cdn.jsdelivr.net/gh/PrismJS/prism@1.30.0",themes:{coy:"/themes/prism-coy.min.css",dark:"/themes/prism-dark.min.css",funky:"/themes/prism-funky.min.css",okaidia:"/themes/prism-okaidia.min.css",solarizedlight:"/themes/prism-solarizedlight.min.css",tomorrow:"/themes/prism-tomorrow.min.css",twilight:"/themes/prism-twilight.min.css",prism:"/themes/prism.min.css"},plugins:[{script:"/plugins/autoloader/prism-autoloader.min.js"},{script:"/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js",dependencies:[{script:"/plugins/toolbar/prism-toolbar.min.js",link:"/plugins/toolbar/prism-toolbar.min.css"}]}]},external:{urlPrefix:"https://cdn.jsdelivr.net/gh/PrismJS/prism-themes@1.9.0/themes",themes:{"a11y-dark":"/prism-a11y-dark.css","atom-dark":"/prism-atom-dark.css","base16-ateliersulphurpool.light":"/prism-base16-ateliersulphurpool.light.css",cb:"/prism-cb.css","coldark-cold":"/prism-coldark-cold.css","coldark-dark":"/prism-coldark-dark.css","coy-without-shadows":"/prism-coy-without-shadows.css",darcula:"/prism-darcula.css",dracula:"/prism-dracula.css","duotone-dark":"/prism-duotone-dark.css","duotone-earth":"/prism-duotone-earth.css","duotone-forest":"/prism-duotone-forest.css","duotone-light":"/prism-duotone-light.css","duotone-sea":"/prism-duotone-sea.css","duotone-space":"/prism-duotone-space.css",ghcolors:"/prism-ghcolors.css","gruvbox-dark":"/prism-gruvbox-dark.css","gruvbox-light":"/prism-gruvbox-light.css","holi-theme":"/prism-holi-theme.css",hopscotch:"/prism-hopscotch.css",laserwave:"/prism-laserwave.css",lucario:"/prism-lucario.css","material-dark":"/prism-material-dark.css","material-light":"/prism-material-light.css","material-oceanic":"/prism-material-oceanic.css","night-owl":"/prism-night-owl.css",nord:"/prism-nord.css","one-dark":"/prism-one-dark.css","one-light":"/prism-one-light.css",pojoaque:"/prism-pojoaque.css","shades-of-purple":"/prism-shades-of-purple.css","solarized-dark-atom":"/prism-solarized-dark-atom.css",synthwave84:"/prism-synthwave84.css",vs:"/prism-vs.css","vsc-dark-plus":"/prism-vsc-dark-plus.css",xonokai:"/prism-xonokai.css","z-touch":"/prism-z-touch.css"}}};var c=K,Z=[...Object.keys(c.builtIn.themes),...c.external?Object.keys(c.external.themes):[]];class x extends y{resources=[];constructor(s){super();let{theme:t,darkMode:i}=s;l("Loaded config:",c),this.setTheme(t,i||""),this.setPlugins()}async initialize(){if(!window.Prism)window.Prism={manual:!0};else window.Prism.manual=!0;let s=async(t)=>{await this.loadResource(t)};try{await s({script:`${c.builtIn.urlPrefix}/components/prism-core.min.js`}),l("Core script loaded."),await Promise.all(this.resources.map(s)),l("[Prism Engine] All resources loaded.",this.resources)}catch(t){b("Error during initialization:",t),l("Resources attempted to load:",this.resources)}}setTheme(s,t){let i=(h)=>{this.resources.push({link:`${c.builtIn.urlPrefix}${h}`})},m=(h)=>{if(!c.external)return;this.resources.push({link:`${c.external.urlPrefix}${h}`})},a=Boolean(t)&&window.matchMedia?.("(prefers-color-scheme: dark)").matches;if(a&&c.builtIn.themes[t]){i(c.builtIn.themes[t]),l(`[Prism Engine] Dark mode theme "${t}" applied based on system preference.`);return}if(!a&&c.builtIn.themes[s]){i(c.builtIn.themes[s]),l(`[Prism Engine] Theme "${s}" applied based on system preference.`);return}if(!a&&c.external?.themes[s]){m(c.external.themes[s]),l(`[Prism Engine] External theme "${s}" applied based on system preference.`);return}if(a&&c.external?.themes[t]){m(c.external.themes[t]),l(`[Prism Engine] External dark mode theme "${t}" applied based on system preference.`);return}i(c.builtIn.themes.prism),n(`[Prism Engine] Theme "${s}" is not supported.`)}setPlugins(){c.builtIn.plugins?.forEach((s)=>{this.resources.push({script:o(s.script)?`${c.builtIn.urlPrefix}${s.script}`:void 0,link:o(s.link)?`${c.builtIn.urlPrefix}${s.link}`:void 0,dependencies:s.dependencies?.map((t)=>({script:o(t.script)?`${c.builtIn.urlPrefix}${t.script}`:void 0,link:o(t.link)?`${c.builtIn.urlPrefix}${t.link}`:void 0}))})})}async highlight(){window.Prism?.highlightAll?.()}}var O={url:"https://esm.sh/shiki@3.0.0",themes:["andromeeda","aurora-x","ayu-dark","ayu-light","ayu-mirage","catppuccin-frappe","catppuccin-latte","catppuccin-macchiato","catppuccin-mocha","dark-plus","dracula","dracula-soft","everforest-dark","everforest-light","github-dark","github-dark-default","github-dark-dimmed","github-dark-high-contrast","github-light","github-light-default","github-light-high-contrast","gruvbox-dark-hard","gruvbox-dark-medium","gruvbox-dark-soft","gruvbox-light-hard","gruvbox-light-medium","gruvbox-light-soft","horizon","houston","kanagawa-dragon","kanagawa-lotus","kanagawa-wave","laserwave","light-plus","material-theme","material-theme-darker","material-theme-lighter","material-theme-ocean","material-theme-palenight","min-dark","min-light","monokai","night-owl","night-owl-light","nord","one-dark-pro","one-light","plastic","poimandres","red","rose-pine","rose-pine-dawn","rose-pine-moon","slack-dark","slack-ochin","snazzy-light","solarized-dark","solarized-light","synthwave-84","tokyo-night","vesper","vitesse-black","vitesse-dark","vitesse-light"]};var q=O,$=q.themes;class u extends y{theme;darkModeTheme;highlighter=null;loadedLangs=new Set;constructor(s){super();this.theme=s.theme||"vitesse-light",this.darkModeTheme=s.darkMode||"vitesse-dark",l("Shiki Engine loaded with config:",q)}async initialize(){try{let s=await import(q.url);this.highlighter=await s.createHighlighter({themes:[this.theme,this.darkModeTheme],langs:[]}),this.loadedLangs.add("text"),l("Shiki Engine initialized.")}catch(s){b("Error during Shiki initialization:",s)}}async highlight(){if(!this.highlighter){b("Shiki highlighter not initialized.");return}let s=document.querySelectorAll("pre code"),i=window.matchMedia?.("(prefers-color-scheme: dark)").matches&&this.darkModeTheme?this.darkModeTheme:this.theme;for(let m of Array.from(s)){let a=m,h=a.parentElement;if(!h||h.tagName!=="PRE")continue;let v=Array.from(a.classList).find((r)=>r.startsWith("language-")),k=v?v.replace("language-",""):"text";try{if(k!=="text"&&!this.loadedLangs.has(k))await this.highlighter.loadLanguage(k),this.loadedLangs.add(k);let r=a.textContent||"",Q=this.highlighter.codeToHtml(r,{lang:k,theme:i}),j=document.createElement("div");j.innerHTML=Q;let J=j.firstChild;if(J)h.replaceWith(J)}catch(r){b(`Failed to highlight code block with language "${k}":`,r)}}}}(async()=>{if(typeof document>"u")return;if(window.__highlightItInitialized)return;window.__highlightItInitialized=!0;try{let{engine:s,theme:t,darkMode:i,verbose:m}=F();T(m),l("highlight-it initialized with config:",{engine:s,theme:t,darkMode:i,verbose:m});let a;if(s==="highlight")a=new w({theme:t,darkMode:i});else if(s==="shiki")a=new u({theme:t,darkMode:i});else a=new x({theme:t,darkMode:i});await a.initialize(),await a.highlight(),l("highlight-it: Code highlighting completed")}catch(s){b("highlight-it error:",s)}})();
